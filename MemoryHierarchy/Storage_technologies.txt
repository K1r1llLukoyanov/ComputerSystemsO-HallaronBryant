Much of the success of computer technology systems from the tremendous progress in storage technology.
Early computers had a few kilobytes of random access memory. 


        Random access memory

    Random access memory (RAM) comes in two varieties - static and dynamic. Static RAM (SRAM) is faster and
significantly more expensive than dynamic RAM(DRAM). SRAM is used for cache memories, both on and off
CPU ship. DRAM is used for main memory plus the frame buffer of a graphics systems. Typically, a desktop
system will have no more than tens of megabytes of SRAM, but hundreds and thausands of megabytes of DRAM.


    Static RAM

    SRAM stores each bit in a bistable memory cell. Each cell is emplemented with a six-transistor circuit.
This circuit has the property that it can stay indefinately in either of two different voltage nonfigurations,
or states. Any other state will be unstable - starting from there, the circuit will quickly move toward one
of the stable states. Such a memery cell is analogous to the inverted pendulum.

    Due to its bistable nature, an SRAM memory cell will retain its value indefinately, as long as it kept
powered. Even if disturbance, such as electrical noise, perturbs the voltages, the circuit will return to
the stable value when disturbance is removed.    


            transistors         Relative                                            Relavite
            per bit             access time         Persistent?     Sensitive?          cost        Application
SRAM            6               1 x                     Yes             No           1000x          Cache memory
DRAM            1               10 x                    No              Yes             1x          Main memory


    Dynamic RAM

    DRAM stores each bit as charge on a capacitor. This capacitor is very small - typically around 30 femtofarads,
that is, 30x10^-15 farads. However, farad is very large unit of measure. DRAM storage can be made very dense - each
cell consist of a capacitor and a single access transistor. Unlike SRAM, a DRAM memory cell is very sensitive to any
disturbance. When the capacitor voltage is disturbed, it will never recover. Exposure to light rays will cause the
capacitor voltages to change. In fact, the sensors in digital cameras and camcorders are essentially arrays of DRAM
cells.
    Various sources of leakage current cause DRAM cell to lose its charge within a time period around 10 to 100 milli-
seconds. Fortunately, for computers operating with clock cycle times measured in nanoseconds, this retention time is
quite long. The memory system must periodically refresh every bit of memory by reading it out and then rewriting it.
    
    Summary:

    SRAM is persistent as long as power is applied. Unlike DRAM, no refresh is necessary. SRAM can be accessed faster
than DRAM. SRAM is not sensitive to disturbances such as light and electrical noise. The trade off is that SRAM cells
use more transistors than DRAM and thus have lower densities, are more expensive, and consume more power.

    
    Convential DRAMs

    The cells (bits) in a DRAM chip are partitioned into d supercells, each consisting of w DRAM cells. A d x w DRAM
stores total of d*w bits of information. The supercells are organized as a rectangular array of r words and c columns.
where, rc = d. Each supercell has an address of the form (i,j), where i denotes the row and j denotes the column. DRAM 
chip with d = 16 supercells, r = 4 rows, c = 4 columns, and w = 8 bits in each supercell can store d x w = 16 x 8 = 128 bits.
Information flows in and out of the chip via external connectors called pins. Each pin carries a 1-bit signal. Eight data
pins can transfer 1 byte in or out of the chip, and two addr pins that carry two-bit row and column supercell addresses.
    Each DRAM chip is connected to some circuitry, known as the memory contoller, that can transfer w bits at a time to
and from each DRAM chip. To read the contents of supercell (i, j), the memory contoller sends the row address i to DRAM,
followed by the column address j. The DRAM responds by sending the contents of supercells (i, j) back to the contoller.
The row address i is called a RAS (Row Access Strobe) request. The column address j is called CAS (Column Access Strobe).
Notice that the RAS and CAS requests share the same DRAM address pins.
    For example, to read supercell (2, 1) from 16x8 DRAM, the memory controller sends row address 2. The DRAM responds by
copying the entire content of row 2 into an internal row buffer. Next, the memory contoller sends column address 1. The
DRAM responds by copying 8 bit in supercell (2, 1) from the row buffer and sending them to the memory controller.
    One reason curcuit designers organize DRAMs as two-dimensional arrays instead of linear arrays is to reduce the number
of address pins on the chip. The disadvantage of two-dimensional array organization is that addresses must be sent in two
distinct steps, which increases the access time.


    Memory Modules

    DRAM chips are packaged in memory modules that plug into expansion slots on the main system board (motherboard).
Core i7 systems use the 240 pin dual inline memory module (DIMM), which transfers data to and from memory controller
in 64-bit chunks.
    The example module stores a total 64 MB (megabytes) using eight 64-MBit 8Mx8 DRAM chips, numbered from 0 to 7. Each
supercell stores 1 byte of main memory, and each 64-bit word at byte address A in main memory is represented by the eight
supercells whose corresponding. supercell address (i, j).
    To retrieve a word at memory address A, memory controller converts A to a supercell address (i, j) and sends it to
the memory module, which then broadcast of its (i, j) supercell. Circuitry in the module collects these outputs and forms
them into a 64-bit word, which it returns to the memory controller.
    Main memory can be aggregated by connecting multiple memory modules to the memory contoller. In this case, when the
contoller receives an address A, the contoller selects the module k that contains A, converts A to (i, j) form, and sends
(i, j) to module k.


Practice 6.1 (solution 696):

In the following, let r be the number of rows in a DRAM array, c the number of
columns, b r the number of bits needed to address the rows, and b c the number of
bits needed to address the columns. For each of the following DRAMs, determine
the power-of-2 array dimensions that minimize max(b r , b c ), the maximum number
of bits needed to address the rows or columns of the array.

Organization            r           c           br          bc          max(br, bc)
16x1                    4           4           2           2           2
16x4                    8           8           3           3           3
128x8                   32          32          5           5           5
1024x4                  64          64          6           6           6


    Enchanced DRAMs

    New kinds of DRAM memory appears on market with regularity as manufacturers attemp to keep up rapidly increasing
processors speeds. Each is based on Conventional DRAM cell, with optimizations that improve the speed with which the
basic DRAM cells can be accessed.

  * Fast page mode DRAM (FPM DRAM). A conventional DRAM copies an entire row of supercells into its intenal row buffer,
    uses one, and then discards the rest. FPM DRAM improves on this by allowing consecutive acesses to the same row to
    be served directly from the row buffer. For example, to read four supercells from row i of a conventional DRAM, the
    memory contoller must send four RAS/CAS requests, even though the row address i is the same in each case. To read
    supercell from the same row of FPM DRAM, the memory contoller sends an initial RAS/CAS request, following by three
    CAS requests. The initial RAS/CAS request copies row i into the row buffer and returns the supercell addressed by the
    CAS. The next three supercells are served directly from the row buffer, and thus are returned more quickly than initial
    supecell.

  * Extended data out DRAM (EDO DRAM). An enchanced form of FPM DRAM that allows the individual CAS signal to be spaced
    closer together in time.
  
  * Synchronous DRAM (SDRAM). Conventional, FPM, and EDO DRAMs are asynchronous in the sense that they communicate with
    the memory controller using set of explicit contor signals. SDRAM replaces many of these control signals with rising
    edges of the same external clock signal that drives the memory controller. Without going into detail, the net effect
    is that an SDRAM can output the contents of its supercells at faster rate than its asynchronous counterparts. 

  * Double Data-Rate Synchronous DRAM (DDR). DDR SDRAM is an enchancement of SDRAM that doubles the speed of the DRAM by
    using both clock edges as control signals. Different types of DDR SDRAMs are characterized by the size of a small
    prefetch buffer that increases the effective bandwidth: DDR (2bits), DDR2(4 bits), DDR3(8 bits), DDR4(16 bits).

  * Video RAM (VRAM). Used in the frame buffer of graphics systems. VRAM is similar in spirit to FPM DRAM. Two major
    differences are that (1) VRAM output is produced bu shifting the entire contents of the internal buffer in sequence
    and (2) VRAM allows concurrent reads and writes to the memory. Thus, the system can be painting the screen with pixels
    in the frame buffer (reads) while concurrently writing new values for next update (writes).



    Nonvolatile Memory

    SRAMs and DRAMs are volatile in the sense that they lose thier information if the supply voltage is turned off.
Nonvolatile memories, on the other hand, retain their information even when they are powered off. There are variety
of nonvolatile memories. For historical reasons, they are referred to collectively as read-only memories (ROMs), even
some types of ROMs can be written to as well as read. ROMs are distinguished by the number of times they can be
reprogrammed (written to) and by the mechanism for reprogramming them.
    A programmable ROM (PROM) can be reprogrammed exactly once. PROMs include a sort of fuse with each memory cell that
can be blown once by zapping it with a high current.
    An erasable programmable ROM (EPROM) has a transparent quartz window that permit light to reach the storage cells.
The EPROM cells are cleared to zeros by shining ultaviolet light thought the window. Programming an EPROM is done by
using a special device to write ones into the EPROM. An EPROM can be erased and reprogrammed on the order of 1000 times.
An electrically erasable PROM (EEPROM) is akin to an EPROM, but it does not required a physically separate programming 
device, and thus can be reprogrammed in-place on printed circuit cards. An EEPROM can be reprogrammed on the order of
10^5 times before it wears out.
    Flash memory is a type of nonvolatile memory, based on EEPROMs, that has become an important storage technology.
Flash memories are everywhere, providing fast and durable nonvolatile storage for a slew of electronic devices, including
digital cameras, cell phones, and music players, as well as laptop, desktop, and server computer systems.
    Programs stored in ROM devices are often referred to as firmware. When a computer system is powered up, it runs firmware
stored in ROM. Some systems provide small set of primitive input and output functions in firmware - for example, a PC's
BIOS (basic input/output system) routines. Complicated devices such as grapics cards cand disk drive contollers also rely
on firmware to translate I/O (input/output) requests from the CPU.